<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Processing for Simulated Cameras ‚Ä¢ rayimage</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Image Processing for Simulated Cameras">
<meta property="og:description" content="Uses convolution-based techniques to generate simulated camera bokeh, depth of field, and other camera effects, using an image and an optional depth map. Accepts both filename inputs and in-memory array representations of images and matrices. Includes functions to perform 2D convolutions, reorient and resize images/matrices, add image and text overlays, adjust exposure, generate camera vignette effects, and add titles to images.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rayimage</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.18.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>

  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Blog

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://www.tylermw.com/portrait-mode-data/" class="external-link">Portrait Mode for Data: Rayshader + Rayfocus</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">
    <span class="fa fa-newspaper-o"></span>

    Changelog
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="reference/index.html">
    <span class="fa fa-file-code-o"></span>

    functions
  </a>
</li>
<li>
  <a href="https://github.com/tylermorganwall/rayimage" class="external-link">
    <span class="fa fa-github fa-lg"></span>

    GitHub
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="rayimage">rayimage<a class="anchor" aria-label="anchor" href="#rayimage"></a>
</h1></div>
<!-- badges: start -->

<p><img src="reference/figures/githubdemo.gif"></p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><strong>rayimage</strong> is an open source R package for image manipulation and simulated camera effects. <strong>rayfocus</strong> uses convolution-based techniques to generate simulated camera bokeh, depth of field, and other camera effects, using an image and an optional depth map. It includes functions to perform 2D convolutions, add image overlays, generate camera vignette effects, and add titles to images.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># To install the latest version from Github:</span></span>
<span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"tylermorganwall/rayimage"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h2>
<ul>
<li><p><code><a href="reference/render_bokeh.html">render_bokeh()</a></code> takes two images as an input: an in-focus image, and a depth map for that image. These can either be in-memory representations of the image, or file paths to the images. The user can also specify various camera settings, including: focal length, f-stop, aperture shape (including custom aperture shapes passed by the user), aperture rotation, bokeh intensity, bokeh intensity limit. The output is either plotted to the current device, or save to a file (if a filename is passed to the function).</p></li>
<li><p><code><a href="reference/render_convolution.html">render_convolution()</a></code>/<code><a href="reference/render_convolution_fft.html">render_convolution_fft()</a></code> performs a convolution with a user-supplied kernel (either custom, or using one of the built-in functions to generate a kernel: <code><a href="reference/generate_2d_gaussian.html">generate_2d_gaussian()</a></code>, <code><a href="reference/generate_2d_exponential.html">generate_2d_exponential()</a></code>, and <code><a href="reference/generate_2d_disk.html">generate_2d_disk()</a></code>). This function can be applied to either images represented by RGB arrays/file-names, or 2D matrices.</p></li>
<li><p><code><a href="reference/render_resized.html">render_resized()</a></code> resizes an image or a matrix using a magnification factor or the dimensions of the desired object. This function interpolates between points using bilinear interpolation.</p></li>
<li><p><code><a href="reference/render_reorient.html">render_reorient()</a></code> reorients an image, either flipping horizontally, vertically, or with a transpose operation.</p></li>
<li><p><code><a href="reference/render_text_image.html">render_text_image()</a></code> generates a tightly bounded image containing text, with custom font support and emoji support if the <code>ragg</code> package is installed.</p></li>
<li><p><code><a href="reference/render_title.html">render_title()</a></code> adds titles to images, with an optional title bar. User can specify opacity, color, and font properties.</p></li>
<li><p><code><a href="reference/render_vignette.html">render_vignette()</a></code> adds a camera vignette effect, which is a slight darkening by the edges of an image.</p></li>
<li><p><code><a href="reference/render_image_overlay.html">render_image_overlay()</a></code> adds overlays to images.</p></li>
<li><p><code><a href="reference/plot_image.html">plot_image()</a></code> plots an RGB array to the current device.</p></li>
<li><p><code><a href="reference/plot_image_grid.html">plot_image_grid()</a></code> plots a list of RGB arrays in a user-specified grid to the current device.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The package comes with a sample image and depth map derived from Stanford ‚ÄúChinese Dragon‚Äù 3D model. The image is included in rayimage as <code>dragon</code> and the depthmap is <code>dragondepth</code>. We plot these 3D image arrays simply by calling <code><a href="reference/plot_image.html">plot_image()</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.rayimage.dev">rayimage</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/plot_image.html">plot_image</a></span><span class="op">(</span><span class="va">dragon</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/basic-1.png"><!-- --></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/plot_image.html">plot_image</a></span><span class="op">(</span><span class="va">dragondepth</span><span class="op">/</span><span class="fl">2000</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/basic-2.png"><!-- --></p>
<p>You can also easily plot a grid of images.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/plot_image_grid.html">plot_image_grid</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">dragon</span>, <span class="va">dragondepth</span><span class="op">/</span><span class="fl">2000</span><span class="op">)</span>, </span>
<span>                dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/grid-1.png"><!-- --></p>
<p>Preview the focal plane.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/render_bokeh.html">render_bokeh</a></span><span class="op">(</span><span class="va">dragon</span>,<span class="va">dragondepth</span>,focus<span class="op">=</span><span class="fl">930</span>,preview_focus <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="do">## Focal range: 847.644-1410.17</span></span></code></pre></div>
<p><img src="reference/figures/focal-1.png"><!-- --></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/render_bokeh.html">render_bokeh</a></span><span class="op">(</span><span class="va">dragon</span>,<span class="va">dragondepth</span>,focus<span class="op">=</span><span class="fl">930</span>,focallength<span class="op">=</span><span class="fl">250</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/focal-2.png"><!-- --></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/render_bokeh.html">render_bokeh</a></span><span class="op">(</span><span class="va">dragon</span>,<span class="va">dragondepth</span>,focus<span class="op">=</span><span class="fl">1300</span>,preview_focus <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="do">## Focal range: 847.644-1410.17</span></span></code></pre></div>
<p><img src="reference/figures/focal-3.png"><!-- --></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/render_bokeh.html">render_bokeh</a></span><span class="op">(</span><span class="va">dragon</span>,<span class="va">dragondepth</span>,focus<span class="op">=</span><span class="fl">1300</span>,focallength<span class="op">=</span><span class="fl">250</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/focal-4.png"><!-- --></p>
<p>We can also adjust the focal point, shape of the aperture, f-stop, focal length, as well as the bokeh intensity.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">image_list</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">image_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="reference/render_bokeh.html">render_bokeh</a></span><span class="op">(</span><span class="va">dragon</span>,<span class="va">dragondepth</span>,focus<span class="op">=</span><span class="fl">1100</span>,focallength <span class="op">=</span> <span class="fl">400</span>,</span>
<span>             bokehshape <span class="op">=</span> <span class="st">"hex"</span>, bokehintensity <span class="op">=</span> <span class="fl">1</span>, preview <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">image_list</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="reference/render_bokeh.html">render_bokeh</a></span><span class="op">(</span><span class="va">dragon</span>,<span class="va">dragondepth</span>,focus<span class="op">=</span><span class="fl">900</span>,focallength <span class="op">=</span> <span class="fl">400</span>,</span>
<span>             bokehshape <span class="op">=</span> <span class="st">"hex"</span>, bokehintensity <span class="op">=</span> <span class="fl">1</span>, preview <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">image_list</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="reference/render_bokeh.html">render_bokeh</a></span><span class="op">(</span><span class="va">dragon</span>,<span class="va">dragondepth</span>,focus<span class="op">=</span><span class="fl">900</span>,focallength <span class="op">=</span> <span class="fl">400</span>,</span>
<span>             fstop <span class="op">=</span> <span class="fl">16</span>, bokehshape <span class="op">=</span> <span class="st">"hex"</span>, preview <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">image_list</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="reference/render_bokeh.html">render_bokeh</a></span><span class="op">(</span><span class="va">dragon</span>,<span class="va">dragondepth</span>,focus<span class="op">=</span><span class="fl">900</span>,focallength <span class="op">=</span> <span class="fl">300</span>,</span>
<span>             bokehshape <span class="op">=</span> <span class="st">"hex"</span>, bokehintensity <span class="op">=</span> <span class="fl">5</span>, preview <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/plot_image_grid.html">plot_image_grid</a></span><span class="op">(</span><span class="va">image_list</span>, dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/manyimages-1.png"><!-- --></p>
<p>We can add a camera vignette effect, titles, and add overlays (not shown here):</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">image1</span> <span class="op">=</span> <span class="va">dragon</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/render_title.html">render_title</a></span><span class="op">(</span><span class="st">"Dragon"</span>, title_size <span class="op">=</span> <span class="fl">20</span>, title_bar_color <span class="op">=</span> <span class="st">"red"</span>, </span>
<span>            title_bar_alpha<span class="op">=</span><span class="fl">0.8</span>, title_color<span class="op">=</span><span class="st">"white"</span>, title_offset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>,<span class="fl">12</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">image2</span> <span class="op">=</span> <span class="va">dragon</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/render_vignette.html">render_vignette</a></span><span class="op">(</span>vignette<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/plot_image_grid.html">plot_image_grid</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">image1</span>,<span class="va">image2</span><span class="op">)</span>, dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/vignettetitle-1.png"><!-- --></p>
<p>We can generate images with custom fonts and emojis:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Use a custom font.</span></span>
<span><span class="fu"><a href="reference/render_text_image.html">render_text_image</a></span><span class="op">(</span><span class="st">"AVATAR"</span>, font <span class="op">=</span> <span class="st">"Papyrus"</span>, size<span class="op">=</span><span class="fl">100</span>,</span>
<span>                  color <span class="op">=</span> <span class="st">"#aaddff"</span>, </span>
<span>                  background_color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>                  preview <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/emoji-1.png"><!-- --></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Plot an emoji with the agg device and increase resolution.</span></span>
<span><span class="fu"><a href="reference/render_text_image.html">render_text_image</a></span><span class="op">(</span><span class="st">"üòÄüöÄ"</span>, size <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                   background_alpha <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                   preview <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/emoji-2.png"><!-- --></p>
<p>We can also resize images and matrices with <code>render_resize()</code>. We can do this before adding text to make the resulting text smoother.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Double the input size to make the resulting text smoother.</span></span>
<span><span class="va">image3</span> <span class="op">=</span> <span class="va">dragon</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/render_resized.html">render_resized</a></span><span class="op">(</span>mag <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/render_title.html">render_title</a></span><span class="op">(</span><span class="st">"Dragon"</span>, title_size <span class="op">=</span> <span class="fl">20</span>, title_bar_color <span class="op">=</span> <span class="st">"red"</span>, </span>
<span>            title_bar_alpha<span class="op">=</span><span class="fl">0.8</span>, title_color<span class="op">=</span><span class="st">"white"</span>, title_offset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>,<span class="fl">12</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co">#Specify resulting dimensions directly.</span></span>
<span><span class="va">image4</span> <span class="op">=</span> <span class="va">dragon</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/render_resized.html">render_resized</a></span><span class="op">(</span>dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600</span>,<span class="fl">300</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/render_title.html">render_title</a></span><span class="op">(</span><span class="st">"Dragon"</span>, title_size <span class="op">=</span> <span class="fl">20</span>, title_bar_color <span class="op">=</span> <span class="st">"red"</span>, </span>
<span>            title_bar_alpha<span class="op">=</span><span class="fl">0.8</span>, title_color<span class="op">=</span><span class="st">"white"</span>, title_offset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>,<span class="fl">12</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="reference/plot_image_grid.html">plot_image_grid</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">image3</span>,<span class="va">image4</span><span class="op">)</span>, dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/resize-1.png"><!-- --></p>
<p>Reorienting images and matrices can be done with <code><a href="reference/render_reorient.html">render_reorient()</a></code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/render_reorient.html">render_reorient</a></span><span class="op">(</span><span class="va">dragon</span>, preview <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-1-1.png"><!-- --></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/render_reorient.html">render_reorient</a></span><span class="op">(</span><span class="va">dragon</span>, flipx <span class="op">=</span> <span class="cn">TRUE</span>, preview <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-1-2.png"><!-- --></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/render_reorient.html">render_reorient</a></span><span class="op">(</span><span class="va">dragon</span>, flipy <span class="op">=</span> <span class="cn">TRUE</span>, preview <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-1-3.png"><!-- --></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/render_reorient.html">render_reorient</a></span><span class="op">(</span><span class="va">dragon</span>, transpose <span class="op">=</span> <span class="cn">TRUE</span>, preview <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-1-4.png"><!-- --></p>
<p>We can also use the <code><a href="reference/render_convolution.html">render_convolution()</a></code> directly to perform a convolution with a user-defined (or built-in) kernel.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Default gaussian kernel</span></span>
<span><span class="fu"><a href="reference/plot_image_grid.html">plot_image_grid</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="reference/render_convolution.html">render_convolution</a></span><span class="op">(</span><span class="va">dragon</span>, kernel <span class="op">=</span> <span class="st">"gaussian"</span><span class="op">)</span>,</span>
<span>                     <span class="fu"><a href="reference/generate_2d_gaussian.html">generate_2d_gaussian</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">11</span>,<span class="fl">3</span>, rescale_unity <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/generated-1.png"><!-- --></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Custom gaussian kernel</span></span>
<span><span class="fu"><a href="reference/plot_image_grid.html">plot_image_grid</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="reference/render_convolution.html">render_convolution</a></span><span class="op">(</span><span class="va">dragon</span>, kernel <span class="op">=</span> <span class="fu"><a href="reference/generate_2d_gaussian.html">generate_2d_gaussian</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">1</span>,<span class="fl">31</span>,<span class="fl">21</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                     <span class="fu"><a href="reference/generate_2d_gaussian.html">generate_2d_gaussian</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">1</span>,<span class="fl">31</span>,<span class="fl">21</span>, rescale_unity <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>           dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/generated-2.png"><!-- --></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Custom exponential kernel</span></span>
<span><span class="fu"><a href="reference/plot_image_grid.html">plot_image_grid</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="reference/render_convolution.html">render_convolution</a></span><span class="op">(</span><span class="va">dragon</span>, kernel <span class="op">=</span> <span class="fu"><a href="reference/generate_2d_exponential.html">generate_2d_exponential</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">31</span>,<span class="fl">21</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                    <span class="fu"><a href="reference/generate_2d_exponential.html">generate_2d_exponential</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">31</span>,<span class="fl">21</span>, rescale_unity <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>           dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/generated-3.png"><!-- --></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Custom disk kernel</span></span>
<span><span class="fu"><a href="reference/plot_image_grid.html">plot_image_grid</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="reference/render_convolution.html">render_convolution</a></span><span class="op">(</span><span class="va">dragon</span>, kernel <span class="op">=</span> <span class="fu"><a href="reference/generate_2d_disk.html">generate_2d_disk</a></span><span class="op">(</span><span class="fl">31</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                     <span class="fu"><a href="reference/generate_2d_disk.html">generate_2d_disk</a></span><span class="op">(</span><span class="fl">31</span>, rescale_unity <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>           dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/generated-4.png"><!-- --></p>
<p>We can also use this to perform generate discrete 2D convolutions with matrices:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">volcano</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">volcano</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="reference/render_convolution.html">render_convolution</a></span><span class="op">(</span>kernel<span class="op">=</span><span class="fu"><a href="reference/generate_2d_gaussian.html">generate_2d_gaussian</a></span><span class="op">(</span>sd<span class="op">=</span><span class="fl">1</span>,dim<span class="op">=</span><span class="fl">31</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-2-1.png"><!-- --></p>
<p>And here we use a user-defined kernel, in the shape of a cross.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">custom1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0</span>, nrow<span class="op">=</span><span class="fl">11</span>,ncol<span class="op">=</span><span class="fl">11</span><span class="op">)</span></span>
<span><span class="va">custom1</span><span class="op">[</span><span class="fl">6</span>,<span class="op">]</span> <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="va">custom1</span><span class="op">[</span>,<span class="fl">6</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="va">custom2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">[</span>,<span class="fl">10</span><span class="op">:</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/plot_image_grid.html">plot_image_grid</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">custom1</span>,<span class="va">custom2</span>,</span>
<span>                     <span class="fu"><a href="reference/render_convolution.html">render_convolution</a></span><span class="op">(</span><span class="va">dragon</span>, kernel <span class="op">=</span> <span class="va">custom1</span><span class="op">)</span>,</span>
<span>                     <span class="fu"><a href="reference/render_convolution.html">render_convolution</a></span><span class="op">(</span><span class="va">dragon</span>, kernel <span class="op">=</span> <span class="va">custom2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-3-1.png"><!-- --></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=rayimage" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/tylermorganwall/rayimage/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/tylermorganwall/rayimage/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rayimage</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.tylermw.com" class="external-link">Tyler Morgan-Wall</a> <br><small class="roles"> Author, copyright holder, maintainer </small> <a href="https://orcid.org/0000-0002-3131-3814" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/tylermorganwall/rayimage/actions" class="external-link"><img src="https://github.com/tylermorganwall/rayimage/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://tylermorganwall.r-universe.dev/" class="external-link"><img src="https://tylermorganwall.r-universe.dev/badges/:name" alt=":name status badge"></a></li>
<li><a href="https://tylermorganwall.r-universe.dev/rayimage" class="external-link"><img src="https://tylermorganwall.r-universe.dev/badges/rayimage" alt="rayrender status badge"></a></li>
<li><a href="https://app.codecov.io/gh/tylermorganwall/rayimage" class="external-link"><img src="https://codecov.io/gh/tylermorganwall/rayimage/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://www.tylermw.com" class="external-link">Tyler Morgan-Wall</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
